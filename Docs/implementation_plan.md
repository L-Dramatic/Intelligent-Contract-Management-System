# SRS与SDD双向对齐计划

## 核心原则
- **SRS只能增加，不能删减**
- 确保需求与设计完全对应
- 扩展相同内容使其一致

---

## 对比分析

### SDD中已有但SRS需要扩展的内容

| 内容 | SDD位置 | SRS当前状态 | 需要扩展 |
|------|---------|------------|---------|
| 四级组织层级（省-市-县-部门） | 附录C.2 | UC-00仅提"三级架构" | ✅需扩展为四级 |
| 25个审批角色详细定义 | 附录D.6 | UC-01仅有5个基础角色 | ✅需扩展角色表 |
| 30个审批场景配置 | 附录D.5 | 2.3节仅有6个模板 | ✅需扩展场景 |
| 单一法人实体规则（县无签约权） | 附录D.1 | 未明确提及 | ✅需新增业务规则 |
| 4个金额阶梯（Tier 1-4） | 附录D.2 | 2.3节仅3个阶梯 | ✅需扩展为4个 |
| 4条特殊路由规则 | 附录D.4 | 未明确 | ✅需新增 |

### SRS中已有但SDD可能需要核对的内容

| 内容 | SRS位置 | SDD当前状态 | 需要核对 |
|------|---------|------------|---------|
| UC-07合同变更管理详细流程 | 4.2.6 | 未有独立章节 | ⚠️可能需补充 |
| 变更类型与审批规则矩阵 | UC-07 | 未有 | ⚠️可能需补充 |
| 审批决策选项（同意/驳回/否决） | UC-05 | 已有 | ✅一致 |

---

## 任务清单

### 阶段1：SRS扩展（增加内容）

#### 任务1：扩展UC-00组织架构（619-642行）
- [x] 将"三级架构"扩展为"四级层级"
- [x] 添加市级7个标准部门、县级4个精简部门说明
- [x] 添加部门代码规范（CITY-X-NET等）
- [x] 添加业务规则BR-102（县级分公司必须隶属市级分公司）

#### 任务2：扩展UC-01角色定义（650-740行）
- [x] 在角色定义表中添加21个审批角色（参考SDD附录D.6）
- [x] 添加Z岗级权限说明

#### 任务3：扩展2.3审批流程设计原则（260-320行）
- [x] 添加"单一法人实体规则"
- [x] 将金额阶梯从3个扩展为4个（含Tier4 >50万）
- [x] 加"三重一大会议"规则
- [x] 添加4条特殊路由规则

#### 任务4：扩展预设流程模板表（291-301行）
- [x] 添加更多审批场景（至少Type A/B/C各4个）

#### 任务5：扩展UC-04审查规则引擎（900-918行）
- [x] 确保Pre-Flight Check规则与SDD 4.3.2节一致
- [x] 添加DOC_A_001~005、DOC_B_001~005、DOC_C_001~005完整列表

### 阶段2：SDD补充（如需要）

#### 任务6：核对SDD是否需要增加合同变更模块设计
- [x] SRS UC-07有完整变更流程
- [x] SDD 4.3.1合同全生命周期中需确认是否包含变更 (已确认包含)

#### 任务7：核对数据实体一致性
- [x] SRS 7.1节数据实体（ContractChange等）
- [x] SDD 6.3节数据模型 (已确认一致)

### 阶段3：最终检验

#### 任务8：制作SRS-SDD需求追踪矩阵
- [x] 确保每个UC都有对应的SDD设计章节
- [x] 确保每个SDD模块都有SRS需求支撑

#### 任务9：更新两份文档的版本号和修订历史
- [x] 更新两份文档的版本号和修订历史

---

## 执行顺序

1. **先执行任务1-5**（SRS扩展）
2. **执行任务6-7**（SDD核对/补充）
3. **执行任务8-9**（追踪矩阵和版本更新）

预计新增内容：SRS约200行，SDD约50行
