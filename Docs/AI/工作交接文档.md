# AI æœåŠ¡å·¥ä½œäº¤æ¥æ–‡æ¡£

**äº¤æ¥æ—¶é—´**ï¼š2025å¹´12æœˆ15æ—¥  
**äº¤æ¥äºº**ï¼šAI åŠ©æ‰‹  
**æ¥æ”¶äºº**ï¼šé¡¹ç›®ç»„å…¨ä½“æˆå‘˜

---

## âœ… å·²å®Œæˆå·¥ä½œ

### 1. æ ¸å¿ƒåŠŸèƒ½å¼€å‘
- [x] LLM API é›†æˆï¼ˆé€šä¹‰åƒé—®ï¼‰
- [x] RAG æ£€ç´¢ç³»ç»Ÿï¼ˆChromaDB + Sentence-Transformersï¼‰
- [x] æç¤ºè¯å·¥ç¨‹ï¼ˆç³»ç»Ÿæç¤ºè¯ + ä»»åŠ¡æ¨¡æ¿ï¼‰
- [x] WebSocket å®æ—¶å¯¹è¯
- [x] RESTful API æ¥å£

### 2. åç«¯é›†æˆ
- [x] Spring Boot WebFlux é›†æˆ
- [x] AI æœåŠ¡ä»£ç†å±‚ï¼ˆAIService/AIServiceImpl/AIControllerï¼‰
- [x] é…ç½®ç®¡ç†ï¼ˆapplication.propertiesï¼‰

### 3. ç¯å¢ƒé…ç½®
- [x] Python 3.10 è™šæ‹Ÿç¯å¢ƒ
- [x] å®Œæ•´ä¾èµ–å®‰è£…ï¼ˆå« RAGï¼‰
- [x] NumPy å…¼å®¹æ€§ä¿®å¤
- [x] ç«¯å£é…ç½®ï¼ˆ8002ï¼‰

### 4. æµ‹è¯•ä¸éªŒè¯
- [x] LLM API æµ‹è¯•é€šè¿‡
- [x] æœåŠ¡å¯åŠ¨æˆåŠŸï¼ˆRAG å·²å¯ç”¨ï¼‰
- [x] å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸

### 5. æ–‡æ¡£ç¼–å†™
- [x] AIæœåŠ¡å¼€å‘å®Œæˆæ€»ç»“æŠ¥å‘Š
- [x] Pythonç¯å¢ƒé…ç½®å®ŒæˆæŠ¥å‘Š
- [x] AIæœåŠ¡å¿«é€Ÿå¯åŠ¨æŒ‡å—
- [x] çŸ¥è¯†åº“æ”¶é›†æ¸…å•

---

## â³ å¾…å®Œæˆå·¥ä½œ

### å‰ç«¯å¼€å‘ï¼ˆå…¶ä»–ç»„å‘˜è´Ÿè´£ï¼‰
- [ ] ä¾§è¾¹æ  AI å¯¹è¯ç»„ä»¶
- [ ] WebSocket å®¢æˆ·ç«¯å®ç°
- [ ] ç¼–è¾‘å™¨é›†æˆæŒ‰é’®

### çŸ¥è¯†åº“å»ºè®¾ï¼ˆå›¢é˜Ÿåä½œï¼‰
- [ ] æ”¶é›†æ›´å¤šåˆåŒæ¨¡æ¿ï¼ˆç›®æ ‡ 20+ ç¯‡ï¼‰
- [ ] æ–‡æ¡£å¯¼å…¥å‘é‡æ•°æ®åº“
- [ ] çŸ¥è¯†åº“è´¨é‡æµ‹è¯•

### è”è°ƒä¸ä¼˜åŒ–
- [ ] å‰åç«¯è”è°ƒæµ‹è¯•
- [ ] æç¤ºè¯è¿­ä»£ä¼˜åŒ–
- [ ] æ€§èƒ½æµ‹è¯•ä¸ä¼˜åŒ–

---

## ğŸš€ å¦‚ä½•ç»§ç»­å¼€å‘

### å¯åŠ¨ AI æœåŠ¡
```powershell
cd "E:\Course Project\Intelligent-Contract-Management-System\ai-service"
.\venv\Scripts\Activate.ps1
python -m uvicorn app.main:app --host 0.0.0.0 --port 8002 --reload
```

### å¯¼å…¥çŸ¥è¯†åº“æ–‡æ¡£
1. å°†åˆåŒæ¨¡æ¿ï¼ˆPDF/Word/TXTï¼‰æ”¾å…¥ `ai-service/knowledge_base/` ç›®å½•
2. è¿è¡Œå¯¼å…¥è„šæœ¬ï¼š
   ```powershell
   python scripts/process_documents.py
   ```

### å‰ç«¯å¯¹æ¥ WebSocket
```javascript
// è¿æ¥ WebSocket
const ws = new WebSocket('ws://localhost:8002/ws/chat/user123');

// å‘é€æ¶ˆæ¯
ws.send(JSON.stringify({
  message: "è¯·å¸®æˆ‘ç”Ÿæˆä¸€æ¡åŸºç«™ç§ŸèµæœŸé™æ¡æ¬¾",
  contract_type: "base_station_lease"
}));

// æ¥æ”¶æ¶ˆæ¯
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('AIå›å¤:', data.content);
};
```

### åç«¯è°ƒç”¨ AI æœåŠ¡
```java
// æ³¨å…¥ AIService
@Autowired
private AIService aiService;

// è°ƒç”¨ç”Ÿæˆæ¥å£
AIGenerateRequest request = new AIGenerateRequest();
request.setContractType("base_station_lease");
request.setClauseType("lease_term");
request.setRequirement("æœŸé™5å¹´ï¼Œå¯ç»­çº¦");

Mono<AIResponse<String>> response = aiService.generateClause(request);
```

---

## ğŸ“‚ é‡è¦æ–‡ä»¶ä½ç½®

### AI æœåŠ¡
```
ai-service/
â”œâ”€â”€ app/main.py                    # FastAPI å…¥å£
â”œâ”€â”€ app/services/
â”‚   â”œâ”€â”€ rag_service.py             # RAG æ£€ç´¢
â”‚   â”œâ”€â”€ prompt_manager.py          # æç¤ºè¯ç®¡ç†
â”‚   â””â”€â”€ knowledge_manager.py       # çŸ¥è¯†åº“ç®¡ç†
â”œâ”€â”€ config.ini                     # API Key é…ç½®ï¼ˆå‹¿ä¸Šä¼  Gitï¼‰
â”œâ”€â”€ requirements.txt               # Python ä¾èµ–
â””â”€â”€ venv/                          # è™šæ‹Ÿç¯å¢ƒ
```

### åç«¯é›†æˆ
```
backend/src/main/java/com/software/contract_system/
â”œâ”€â”€ config/AIServiceConfig.java        # WebClient é…ç½®
â”œâ”€â”€ service/AIService.java             # æœåŠ¡æ¥å£
â”œâ”€â”€ service/impl/AIServiceImpl.java    # æœåŠ¡å®ç°
â”œâ”€â”€ controller/AIController.java       # REST æ§åˆ¶å™¨
â””â”€â”€ dto/                               # æ•°æ®ä¼ è¾“å¯¹è±¡
    â”œâ”€â”€ AIGenerateRequest.java
    â”œâ”€â”€ AICheckRequest.java
    â””â”€â”€ AIResponse.java
```

### æ–‡æ¡£
```
Docs/AI/
â”œâ”€â”€ AIæœåŠ¡å¼€å‘å®Œæˆæ€»ç»“æŠ¥å‘Š.md
â”œâ”€â”€ Pythonç¯å¢ƒé…ç½®å®ŒæˆæŠ¥å‘Š.md
â”œâ”€â”€ AIæœåŠ¡å¿«é€Ÿå¯åŠ¨æŒ‡å—.md
â””â”€â”€ çŸ¥è¯†åº“æ”¶é›†æ¸…å•.md
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®‰å…¨
1. **å‹¿ä¸Šä¼  API Key**ï¼šç¡®ä¿ `ai-service/config.ini` åœ¨ `.gitignore` ä¸­
2. **ç«¯å£è®¿é—®**ï¼šç”Ÿäº§ç¯å¢ƒå»ºè®®åŠ è®¤è¯
3. **çŸ¥è¯†åº“**ï¼šæ•æ„ŸåˆåŒæ–‡æ¡£ä¸è¦ä¸Šä¼ åˆ° Git

### æ€§èƒ½
1. **é¦–æ¬¡å¯åŠ¨æ…¢**ï¼šEmbedding æ¨¡å‹ä¸‹è½½éœ€ 5-10 åˆ†é’Ÿ
2. **å¹¶å‘é™åˆ¶**ï¼šå•å®ä¾‹å»ºè®® < 100 å¹¶å‘
3. **æˆæœ¬æ§åˆ¶**ï¼šæ¯æ¬¡ LLM è°ƒç”¨çº¦ 0.001 å…ƒ

### å…¼å®¹æ€§
1. **Python ç‰ˆæœ¬**ï¼šå¿…é¡»ç”¨ Python 3.10ï¼ˆä¸æ”¯æŒ 3.14ï¼‰
2. **NumPy ç‰ˆæœ¬**ï¼šå¿…é¡» < 2.0ï¼ˆå·²å›ºå®šåœ¨ 1.26.4ï¼‰
3. **ç«¯å£å†²çª**ï¼šAI æœåŠ¡ç”¨ 8002ï¼Œåç«¯ç”¨ 8080

---

## ğŸ“ é‡åˆ°é—®é¢˜æ€ä¹ˆåŠ

### å¸¸è§é”™è¯¯é€ŸæŸ¥

| é”™è¯¯ç°è±¡ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ³• |
|----------|----------|----------|
| `ModuleNotFoundError` | è™šæ‹Ÿç¯å¢ƒæœªæ¿€æ´» | è¿è¡Œ `.\venv\Scripts\Activate.ps1` |
| `ç«¯å£è¢«å ç”¨` | è¿›ç¨‹æœªå…³é—­ | `netstat -ano \| findstr :8002` æŸ¥æ‰¾å¹¶æ€æ‰è¿›ç¨‹ |
| `RAG ä¸ç”Ÿæ•ˆ` | çŸ¥è¯†åº“ä¸ºç©º | å¯¼å…¥åˆåŒæ¨¡æ¿æ–‡æ¡£ |
| `API Key é”™è¯¯` | config.ini æœªé…ç½® | æ£€æŸ¥ `ai-service/config.ini` |

### æ£€æŸ¥æ¸…å•
- [ ] è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»ï¼ˆå‘½ä»¤è¡Œæœ‰ `(venv)`ï¼‰
- [ ] æœåŠ¡å·²å¯åŠ¨ï¼ˆhttp://localhost:8002 è¿”å› JSONï¼‰
- [ ] RAG å·²å¯ç”¨ï¼ˆ`rag_enabled: true`ï¼‰
- [ ] æ²¡æœ‰è‡´å‘½é”™è¯¯æ—¥å¿—

---

## ğŸ¯ åç»­å»ºè®®

### çŸ­æœŸï¼ˆ1å‘¨å†…ï¼‰
1. å‰ç«¯ç»„å®Œæˆä¾§è¾¹æ ç»„ä»¶
2. è‡³å°‘å¯¼å…¥ 5 ç¯‡åˆåŒæ¨¡æ¿
3. å®Œæˆå‰åç«¯è”è°ƒ

### ä¸­æœŸï¼ˆ1ä¸ªæœˆå†…ï¼‰
1. çŸ¥è¯†åº“æ‰©å……åˆ° 20+ ç¯‡
2. æç¤ºè¯ä¼˜åŒ–è¿­ä»£
3. æ·»åŠ æ¡æ¬¾å¯¹æ¯”åŠŸèƒ½

### é•¿æœŸ
1. åˆåŒé£é™©è¯„ä¼°
2. å¤šè½®å¯¹è¯å¢å¼º
3. æ€§èƒ½ä¸æˆæœ¬ä¼˜åŒ–

---

## âœ… äº¤æ¥ç¡®è®¤

è¯·æ¥æ”¶äººç¡®è®¤ä»¥ä¸‹äº‹é¡¹ï¼š

- [ ] å·²é˜…è¯»æœ¬äº¤æ¥æ–‡æ¡£
- [ ] å·²é˜…è¯»ã€ŠAIæœåŠ¡å¼€å‘å®Œæˆæ€»ç»“æŠ¥å‘Šã€‹
- [ ] å·²æˆåŠŸå¯åŠ¨ AI æœåŠ¡
- [ ] å·²æŒæ¡åŸºæœ¬ä½¿ç”¨æ–¹æ³•
- [ ] æ˜ç¡®åç»­å·¥ä½œä»»åŠ¡

---

**ç¥é¡¹ç›®é¡ºåˆ©ï¼** ğŸ‰

æœ‰ä»»ä½•é—®é¢˜éšæ—¶æŸ¥é˜…æ–‡æ¡£æˆ–è¯¢é—®ç»„å‘˜ã€‚

---

**äº¤æ¥å®Œæˆæ—¶é—´**ï¼š2025å¹´12æœˆ15æ—¥  
**æœåŠ¡çŠ¶æ€**ï¼šâœ… è¿è¡Œä¸­  
**RAG çŠ¶æ€**ï¼šâœ… å·²å¯ç”¨  
**çŸ¥è¯†åº“æ–‡æ¡£æ•°**ï¼š0ï¼ˆå¾…å¯¼å…¥ï¼‰  

