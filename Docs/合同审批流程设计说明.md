# 企业合同审批流程设计说明

## 一、核心问题

在设计合同管理系统时，一个常见的疑问是：

> **合同审批流程是每种合同都写死，还是每份合同都不一样？**

---

## 二、实际做法：模板 + 规则引擎

### 2.1 答案

**不是完全写死，也不是完全自定义。**

实际企业采用的是「**流程模板 + 规则引擎 + 受控调整**」的组合模式：

| 层级 | 说明 | 举例 |
|------|------|------|
| **流程模板** | 按合同大类预设若干套标准流程 | 采购合同流程、销售合同流程、合作开发合同流程 |
| **规则引擎** | 根据合同属性自动选择/调整流程 | 金额 < 10万走简易流程，≥ 100万走总裁审批流程 |
| **受控调整** | 特殊情况可人工干预，但有权限限制 | 领导出差时指定代理人、紧急合同走加急通道 |

### 2.2 流程选择逻辑

```
┌─────────────────────────────────────────────────────┐
│                    合同提交                          │
└─────────────────────────────────────────────────────┘
                         │
                         ▼
┌─────────────────────────────────────────────────────┐
│   规则引擎自动判断：合同类型？金额？归属部门？风险等级？  │
└─────────────────────────────────────────────────────┘
                         │
        ┌────────────────┼────────────────┐
        ▼                ▼                ▼
   ┌─────────┐     ┌─────────┐     ┌─────────┐
   │ 简易流程 │     │ 标准流程 │     │ 重大流程 │
   │  <10万  │     │ 10-100万│     │  >100万 │
   └─────────┘     └─────────┘     └─────────┘
        │                │                │
        ▼                ▼                ▼
   部门经理审批    部门经理→分管副总   部门经理→法务会签
                                    →财务会签→总裁审批
```

---

## 三、典型的流程模板设计

### 3.1 按合同类型分类

一般企业会预设 **5-20 套** 标准流程模板，覆盖主要业务场景：

| 模板名称 | 适用场景 | 典型节点 |
|----------|----------|----------|
| 日常采购流程 | 办公用品、低值易耗品 | 部门经理 → 采购部 |
| 工程采购流程 | 设备、工程类采购 | 部门经理 → 技术评审 → 采购部 → 分管副总 |
| 销售合同流程 | 产品/服务销售 | 销售经理 → 法务审核 → 财务审核 → 分管副总 |
| 合作开发流程 | 联合研发、技术合作 | 项目经理 → 技术总监 → 法务 → 总裁 |
| 框架协议流程 | 年度框架合同 | 部门经理 → 法务 → 财务 → 总裁 → 董事会 |

### 3.2 按金额分档

在同一类型的流程模板内部，通常会根据**金额区间**自动调整审批层级：

| 金额区间 | 审批要求 |
|----------|----------|
| < 5万 | 部门经理即可审批通过 |
| 5万 - 50万 | 需要分管副总审批 |
| 50万 - 200万 | 需要总经理审批 |
| > 200万 | 需要董事会审批 |

### 3.3 按风险等级

部分企业会引入**风险评估机制**，根据合同风险等级增加审核环节：

| 风险等级 | 触发条件 | 额外审核 |
|----------|----------|----------|
| 低风险 | 标准条款、老客户 | 无 |
| 中风险 | 新客户、非标条款 | 强制法务审核 |
| 高风险 | 大额、长周期、涉外 | 法务 + 财务 + 风控会签 |

---

## 四、为什么不能完全自定义？

如果允许每份合同都自由配置审批流程，会带来以下问题：

| 风险类型 | 具体问题 |
|----------|----------|
| **合规风险** | 员工可能绕过必要的审核环节（如跳过法务审核签了有风险的合同） |
| **效率问题** | 每次都要重新配置流程，增加操作成本和出错概率 |
| **审计困难** | 流程不标准化，难以进行合规审计和责任追溯 |
| **管理混乱** | 相似的合同走不同流程，难以建立统一的管理规范 |

因此，企业通常的做法是：

- ✅ 提供**有限的标准流程模板**（可配置，但数量有限）
- ✅ 通过**规则引擎自动选择**（减少人为干预）
- ✅ 允许**受控的人工调整**（加签、转签、代理审批等，但需要权限）
- ❌ 不允许随意创建全新流程或跳过关键节点

---

## 五、与本系统设计的对应关系

本系统（v5.0-Workflow 版）的工作流引擎设计正是遵循这一思路：

| 系统概念 | 对应的实际需求 |
|----------|----------------|
| `WorkflowDefinition`（流程定义） | 对应预设的流程模板 |
| `WorkflowNode`（流程节点） | 对应审批/会签/条件判断等环节 |
| `条件节点 + 表达式` | 对应规则引擎的金额/类型判断 |
| `审批策略` | 对应不同的审批人选取方式（树状上报、指定角色等） |
| `ApprovalTask`（审批任务） | 对应具体的待办事项 |

### 系统支持的灵活性

1. **管理员可配置**：管理员可以创建/修改流程模板，但普通用户不能
2. **自动匹配流程**：合同提交时，系统根据合同属性自动选择合适的流程模板
3. **受控调整**：在流程执行过程中，有权限的人可以进行加签、转签等操作
4. **完整审计**：所有流程执行记录和审批操作都有日志可追溯

---

## 六、总结

| 问题 | 答案 |
|------|------|
| 是每种合同都写死吗？ | 不是完全写死，而是预设模板 + 规则引擎动态选择 |
| 是每份合同都不一样吗？ | 不是完全自定义，而是在标准模板基础上受控调整 |
| 实际有多少种流程？ | 一般 5-20 套，覆盖主要业务场景 |
| 谁能修改流程？ | 通常只有系统管理员或流程管理员 |

**核心原则**：在**标准化**（保证合规、便于管理）和**灵活性**（适应不同业务场景）之间取得平衡。

